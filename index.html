<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FreakyTractor</title>
    <link rel="stylesheet" href="/css/style.css">
</head>

<body onload="startGame()">
    <nav>
        <h1 class="pageTitle">freakyTractor</h1>
    </nav>
    <canvas id="myCanvas" width="200" height="200" style="border: 1px solid orange"></canvas>
</body>
<script>
    function startGame() {
        let tractor;
        let myCanvas = document.getElementById("myCanvas");
        let ctx = myCanvas.getContext("2d");
        ctx.globalCompositeOperation = 'destination-over'

        let player = {
            x: myCanvas.width / 2, y: myCanvas.height / 2, w: 10, h: 10
        };



        function redraw() {
            ctx.beginPath();
            ctx.fillStyle = "rbg(" + Math.floor(Math.random() * 255)
                , Math.floor(Math.random() * 255)
                , Math.floor(Math.random() * 255) + ")";
            ctx.fillRect(player.x, player.y, player.w, player.h);
            // ctx.strokeStyle = "red";
            // ctx.stroke();
        }

        redraw();

        window.addEventListener("keydown", moveRect, false);

        function moveRect(e) {
            // alert(e.keyCode);
            if (e.keyCode == 65) {
                console.log("you pressed a");
                // player.
                player.x += -15;
                redraw();
                console.log(player);
            };

            if (e.keyCode == 68) {
                console.log("you pressed d");
                player.x += 15;
                redraw();
                console.log(player);
            };

            if (e.keyCode == 87) {
                console.log("you pressed w");
                player.y += -15;
                redraw();
                console.log(player);
            };

            if (e.keyCode == 83) {
                console.log("you pressed s");
                player.y += 15;
                redraw();
                console.log(player);
            };

        };





        //     // tractor = new Image();
        //     tractor.src = "../imgs/tractor.png";
        //     tractor.onload = function () {
        //         ctx.drawImage(tractor, 50, 50, 50, 50);
        //     }
    };

</script>

</html>